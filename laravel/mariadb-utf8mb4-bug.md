# Ошибка при использовании кодировки utf8mb4

При применении миграций в полях с типом "string" и размером оставленным по-умолчанию на которые применяется индекс, выскакивает ошибка: *"Specified key was too long; max key length is 767 bytes"*.

В методе `boot` класса `AppServiceProvider` прописать:

```php
Schema::defaultStringLength(191);
```

Как вариант, указывать размерность поля с индексом вручную:

```php
$php->string('name', 191)->index()
```
Замечание:
В MariaDB 10.2.9 и видимо более новых версиях индексы встают на varchar(255) без ошибок.