# Регулярные выражения

## Lookahead Hacks

Пароль минимум из 6 символов
(одно число, одна буква и один символ): 

```
/^(?=.*\d)(?=.*[a-z])(?=.*[\W_]).{6,}$/i
```

Любое число не делящееся на 50: 
```
/\b(?!\d+[50]0)\d+\b/
```

Всё, что не содержит foo:
```
/^(?!.*foo).+$/
```

## Текст в кавычках

Всё что находится в неэкранированных, парных кавычках. `"He 'said' \\"hi\\"!" "another string"`

```
/(["'])(\\?.)*?\1/g
```

## Скорость поиска

Относительное быстродействие различных вариантов записи регулярного выражения

```
/[а-яА-ЯёЁ0-9_]+/u  0.53s
/\w+/u              0.74s
/[а-яё0-9_]+/ui     1.18s
```


## Экранирование внутри класса символов `[]`

Экранировать необходимо только закрывающую квадратную скобку `]`, карет `^`, дефис `-` и сам символ обратной косой черты `\`.

### Неявное экранирование

`-` - дефис можно не экранировать, если поместить его в начале или конце класса символов `[a-z-]`, `[^-]`.

`^` - карет в любом месте, кроме первого `[^^]`.

`]` - закрывающую квадратную скобку лучше экранировать явно `[\]]`, так как одни реализации воспринимают `]` в выражении `[]]` как часть класса, а другие (например JavaScript) как пустой класс символов `[]` с последующим символом `]`.

## Ссылки

[Best of Fluent 2012: /Reg(exp){2}lained/: Demystifying Regular Expressions](https://www.youtube.com/watch?v=EkluES9Rvak) - видео с конференции
